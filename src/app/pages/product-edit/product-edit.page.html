<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Edit Product</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <form [formGroup]="editForm" (ngSubmit)="saveProduct()">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Edit Product</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <!-- Preview gambar produk -->
        <div
          class="image-preview"
          style="cursor: pointer"
          id="open-custom-dialog"
          (click)="fileInput.click()"
          *ngIf="imagePreview"
        >
          <img [src]="imagePreview" alt="Image Preview" />
        </div>

        <!-- Hidden input untuk file gambar -->
        <input
          type="file"
          #fileInput
          (change)="onFileSelected($event)"
          accept="image/*"
          hidden
        />

        <!-- Input untuk nama produk -->
        <ion-item>
          <ion-label position="floating">Product Name</ion-label>
          <ion-input formControlName="name"></ion-input>
        </ion-item>

        <!-- Input untuk harga produk -->
        <ion-item>
          <ion-label position="floating">Price</ion-label>
          <ion-input formControlName="price" type="number"></ion-input>
        </ion-item>

        <!-- Input untuk deskripsi produk -->
        <ion-item>
          <ion-label position="floating">Description</ion-label>
          <ion-textarea formControlName="description"></ion-textarea>
        </ion-item>

        <!-- Tombol untuk menyimpan perubahan -->
        <ion-button expand="block" type="submit" [disabled]="!editForm.valid">
          Save Changes
        </ion-button>

        <!-- Tombol Cancel -->
        <ion-button
          expand="block"
          color="medium"
          (click)="router.navigate(['/product-list'])"
        >
          Cancel
        </ion-button>
      </ion-card-content>
    </ion-card>
  </form>
</ion-content>
